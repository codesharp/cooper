@{
    ViewBag.Title = "个人任务";
    Layout = "~/Views/Shared/_Layout.cshtml";
    //mini模式 增加详情和列表的切换
}
<style type="text/css">
    body {
        padding: 0;
    }
    .todolist .row_task .cell_string input {
        width: 70%;
    }
</style>
<!--main-->
<div id="main">
    <!--撤销删除区域-->
    <div id="cancel_delete" class="alert alert-danger">
        撤销删除？
        <a id="cancel_delete_true" onclick="cancelDelete()">是</a>
        <a id="cancel_delete_false" onclick="continueDelete()">否</a>
        <span></span>...
    </div>
    <div style="padding: 10px 5px 0;">
        <ul class="nav nav-tabs">
            <li class="active"><a>个人任务管理</a> </li>
            <li class="dropdown pull-right"><a class="dropdown-toggle" data-toggle="dropdown">More<b
                class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li><a onclick="syncAccount()"><i class="icon-refresh"></i>立刻同步至日历</a></li>
                    <li><a href="@Url.Action("Full")"><i class="icon-resize-full"></i> Try Cooper Full</a> </li>
                    <li><a href="@Url.Action("","Account",null)"><i class="icon-user"></i> 我的设置</a> </li>
                    <li><a href="@Url.Action("","Fetch",null)"><i class="icon-list-alt"></i> 其他系统任务</a> </li>
                    <li><a><i class="icon-print"></i>打印</a></li>
                </ul>
            </li>
        </ul>
        <div class="btn-toolbar">
            <div class="btn-group pull-left" data-toggle="buttons-radio">
                <button class="btn active" title="以优先级排序方式查看任务" onclick="byPriority()">
                    <i class="icon-time"></i>优先级</button>
                <button class="btn" title="以截止时间排序查看任务" onclick="byDueTime()">
                    <i class="icon-bell"></i>时间</button>
            </div>
            <div class="btn-group pull-left" style="padding-top: 5px;">
                @*<span class="todolist-total label label-info" style="font-weight:normal">100</span>*@
            </div>
            <div class="btn-group pull-right">
                <button class="btn" onclick="appendTask()">
                    <i class="icon-plus"></i>新建</button>
                <button class="btn" onclick="deleteTask()">
                    <i class="icon-trash"></i>删除</button>
            </div>
        </div>
        <div style="clear: both; height: 10px">
        </div>
    </div>
    <div id="todolist_wrapper" class="todolist_wrapper">
    </div>
    <div style="border-top: 1px #ccc solid; padding: 10px;">
        <span class="label label-info">↵ 新建</span> <span class="label label-success">Ctrl+↵
            完成</span> <span class="label ">Ctrl+↓ 排序</span> <span class="label label-warning">Backspace 删除</span>
    </div>
    <div id="error_lose_connect" class="alert alert-error hide">
        <strong>Oops !</strong><br />
        与Cooper失去连接<br />
        正在尝试重新连接...<br />
        <div class="progress progress-danger progress-striped active">
            <div class="bar">retrying...</div>
        </div>
    </div>
</div>
<!--Detail-->
<div id="detail_wrapper" style="display: none; padding: 5px 15px; overflow-y: auto;
    overflow-x: hidden; position: relative;">
</div>
<!--template-->
<div style="display: none">
    <div id="tmp_region">
        <table class="todolist" by="{by}" key="{key}">
            <thead>
                <tr class="row_header">
                    <td colspan="2" style="padding-left: 10px">
                        <span class="pull-left">{name}</span> <span class="badge pull-right" style="margin-top: 5px;
                            cursor: pointer" onclick="$(this).parents('thead').next().toggle()">0</span>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr class="row_task" id="{id}">
                    <td class="cell_bool">
                        <!--状态显示-->
                        <ul class="nav nav-pills">
                            <li>
                                <div style="display: inline-block; min-width: 15px;">
                                    <i class="icon-ok" style="display: block"></i>
                                </div>
                            </li>
                            <li class="priority"><i class="icon-time" style="display: block"></i></li>
                        </ul>
                        <!--操作按钮-->
                        <ul class="nav nav-pills">
                            <li><i class="icon-check" style="display: none"></i></li>
                            <li class="dropdown"><i class="icon-inbox dropdown-toggle" data-toggle="dropdown"
                                style="display: none"></i>
                                <ul class="dropdown-menu" style="z-index: 100">
                                    <li><a priority="today">今天完成</a></li>
                                    <li><a priority="upcoming">稍后完成</a></li>
                                    <li><a priority="later">迟些再说</a></li>
                                </ul>
                            </li>
                        </ul>
                    </td>
                    <td class="cell_string">
                        <input value="{subject}" maxlength="500" />
                        <div>
                            <span class="cell_duetime"></span><span class="icon-chevron-right" style="cursor: pointer"
                                title="详情" onclick="$('#main').hide();$('#detail_wrapper').show('slide', {direction: 'right'})">
                            </span>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="tmp_detail">
        <div class="region_detail" id="{id}">
            <div class="btn-toolbar">
                <div class="btn-group pull-left">
                    <button class="btn btn-info" onclick="$('#detail_wrapper').hide();$('#main').show('slide');">
                        <i class="icon-arrow-left"></i>返回</button>
                </div>
                <div class="btn-group pull-left">
                    <button id="isCompleted" class="btn_complete btn">
                        <i class="icon-check"></i>完成
                    </button>
                </div>
                <div class="btn-group pull-right" data-toggle="buttons-radio">
                    <a class="btn dropdown-toggle" data-toggle="dropdown"><span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a><i class="icon-share-alt"></i>分享到</a></li>
                        <li><a><i class="icon-info-sign"></i>调试帮助-标识#{id}</a></li>
                    </ul>
                </div>
                <div style="clear: both; height: 5px">
                </div>
            </div>
            <!--item-->
            <table class="detail">
                <tbody>
                    <tr>
                        <td colspan="2">
                            <input id="subject" type="text" class="detail-title" value="{subject}" />
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <textarea id="body" class="detail-note">{body}</textarea>
                        </td>
                    </tr>
                    <tr>
                        <td class="detail-item">
                            优先级
                        </td>
                        <td class="detail-content">
                            <div id="priority" class="btn-group" data-toggle="buttons-radio" title="指定任务希望在何时处理">
                                <button class="btn" title="" priority="0">
                                    <i class="icon-time" priority="0"></i>
                                </button>
                                <button class="btn" title="" priority="1">
                                    <i class="icon-tag" priority="1"></i>
                                </button>
                                <button class="btn" title="" priority="2">
                                    <i class="icon-inbox" priority="2"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="detail-item">
                            截止日期
                        </td>
                        <td class="detail-content">
                            <input id="dueTime" type="text" class="input-small" value="" />
                            <i class="icon-bell"></i>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="alert alert-success">
                <i class="icon-wrench"></i>更多设置功能稍后推出^_^</div>
        </div>
    </div>
</div>
@section Bottom{
    <script type="text/javascript">

    </script>
}
