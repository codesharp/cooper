@{ var mini = Convert.ToBoolean(Model); }

<div style="display: none">
    <div id="tmp_region">
        <table class="todolist" by="{by}" key="{key}">
            <thead>
                <tr class="row_header">
                    <td class="cell_icon">
                        <i class="icon-inbox"></i>
                    </td>
                    <td colspan="2" style="padding-left: 10px">
                        <span class="pull-left">{name}</span> <span class="badge pull-right" style="margin-top: 5px;
                            cursor: pointer" onclick="$(this).parents('thead').next().toggle()">0</span>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr class="row_task" id="{id}">
                    <td class="cell_num">
                        <span></span><i class="icon-th"></i>
                    </td>
                    <td class="cell_bool">
                        <!--状态显示-->
                        <ul class="nav nav-pills">
                            <li>
                                <div style="display: inline-block; min-width: 15px;">
                                    <i class="icon-ok" style="display: block"></i>
                                </div>
                            </li>
                            <li class="priority"><i class="icon-time" style="display: block"></i></li>
                        </ul>
                        <!--操作按钮-->
                        <ul class="nav nav-pills">
                            <li><i class="icon-check" style="display: none"></i></li>
                            <li class="dropdown"><i class="icon-inbox dropdown-toggle" data-toggle="dropdown"
                                style="display: none"></i>
                                <ul class="dropdown-menu" style="z-index: 100">
                                    <li><a priority="today">@this.Lang().priority_today</a></li>
                                    <li><a priority="upcoming">@this.Lang().priority_upcoming</a></li>
                                    <li><a priority="later">@this.Lang().priority_later</a></li>
                                </ul>
                            </li>
                        </ul>
                    </td>
                    <td class="cell_string">
                        <input value="{subject}" maxlength="500" />
                        <div>
                            <span class="cell_duetime"></span>
                            @if (mini)
                            {
                                <span class="icon-chevron-right" style="cursor: pointer"
                                    title="详情" 
                                    onclick="$('#main').hide();$('#detail_wrapper').show('slide', {direction: 'right'})">
                                </span>
                            }
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="tmp_detail">
        <div class="region_detail" id="{id}">
            <div class="btn-toolbar">
                @if (mini)
                {
                <div class="btn-group pull-left">
                    <button class="btn btn-info" onclick="$('#detail_wrapper').hide();$('#main').show('slide');">
                        <i class="icon-arrow-left"></i>@this.Lang().back</button>
                </div>
                }
                <div class="btn-group pull-left">
                    <button id="isCompleted" class="btn_complete btn">
                        <i class="icon-check"></i>@this.Lang().complete
                    </button>
                </div>
                <div class="btn-group pull-right" data-toggle="buttons-radio">
                    <a class="btn dropdown-toggle" data-toggle="dropdown"><span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a><i class="icon-share-alt"></i>@this.Lang().share_to</a></li>
                    </ul>
                </div>
                <div style="clear: both; height: 5px">
                </div>
            </div>
            <!--item-->
            <table class="detail">
                <tbody>
                    <tr>
                        <td colspan="2">
                            <input id="subject" type="text" class="detail-title" value="{subject}" />
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <textarea id="body" class="detail-note">{body}</textarea>
                        </td>
                    </tr>
                    <tr>
                        <td class="detail-item">
                            @this.Lang().priority
                        </td>
                        <td class="detail-content">
                            <div id="priority" class="btn-group" data-toggle="buttons-radio" title="@this.Lang().priority_title">
                                <button class="btn" title="" priority="0">
                                    <i class="icon-time" priority="0"></i>
                                </button>
                                <button class="btn" title="" priority="1">
                                    <i class="icon-tag" priority="1"></i>
                                </button>
                                <button class="btn" title="" priority="2">
                                    <i class="icon-inbox" priority="2"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="detail-item">
                            @this.Lang().duetime
                        </td>
                        <td class="detail-content">
                            <input id="dueTime" type="text" class="input-small" value="" />
                            <i class="icon-bell"></i>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
